<script>
  let object = {
    a: 1,
    b: 2
  }

  // const proxy = new Proxy(object, {
  //   get(obj, prop) {
  //     console.log(obj, prop);
  //   }
  // })
  // proxy.a;


  function reactive(object) {
    return new Proxy(object, {
      get(obj, props) {
        return obj[props];
      },
      set(obj, prop, val) {
        obj[props] = val;
      }
    });
  }

  function effect(handler) {
    console.log(handler);
  }

  let dummy;
  let proxy = reactive(object);
  effect(() => { dummy = proxy.a });

  console.log(dummy);
  proxy.a = 10;
  console.log(dummy);
</script>